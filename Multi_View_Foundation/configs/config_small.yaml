paths:
  data_dir: ../Data
  polymer_file: ../Data/Polymer/SMiPoly_polymers.gz
  polymer_file_d2: ../Data/Polymer/PolyInfo_Homopolymer.csv
  property_dir: ../Data/Property
  results_dir: results_small
  paired_index: results_small/paired_index.csv
data:
  random_seed: 42
  max_samples_d1: 3000
  max_samples_d2: 3000
alignment_views:
- smiles
- smiles_bpe
- selfies
- group_selfies
- graph
views:
  smiles_bpe:
    enabled: true
  selfies:
    enabled: true
  group_selfies:
    enabled: true
    tokenizer_path: ../Bi_Diffusion_Group_SELFIES/results/tokenizer.pkl
  graph:
    enabled: true
model:
  projection_dim: 384
  projection_hidden_dims:
  - 768
  view_dropout: 0.3
  temperature: 0.07
training:
  batch_size: 512
  learning_rate: 0.0001
  max_steps: 200000
  warmup_steps: 2000
alignment_training:
  batch_size: 256
  learning_rate: 0.001
  weight_decay: 0.0
  max_epochs: 10
  val_ratio: 0.1
  log_every: 50
  datasets:
  - d1
  - d2
alignment_e2e:
  batch_size: 64
  learning_rate: 1.0e-05
  weight_decay: 0.01
  max_epochs: 3
  val_ratio: 0.05
  log_every: 50
  datasets:
  - d1
  - d2
  max_samples: null
pipeline:
  step1_alignment_mode: frozen
  step2_use_alignment: true
  step3_use_alignment: true
  step4_use_alignment: true
  step5_use_alignment: true
alignment_embeddings:
  generate_figures: true
evaluation:
  recall_ks:
  - 1
  - 5
  - 10
  max_samples_per_dataset: 3000
  generate_figures: true
ood:
  nn_k: 50
  use_faiss: true
  generate_figures: true
property:
  files:
  - Td.csv
  max_samples: 3000
  train_ratio: 0.8
  val_ratio: 0.1
  test_ratio: 0.1
  model_type: mlp
  views: null
  use_alignment: true
  generate_figures: true
  hyperparameter_tuning:
    n_trials: 150
    enabled: true
    tuning_epochs: 50
    tuning_patience: 10
    final_training_epochs: 500
    metric: r2
    search_space:
      num_layers:
      - 3
      - 4
      - 5
      neurons:
      - 64
      - 128
      - 256
      - 512
      - 1024
      learning_rate:
      - 0.0004
      - 0.0006
      - 0.0008
      - 0.001
      dropout:
      - 0.1
      - 0.2
      - 0.3
      batch_size:
      - 8
      - 16
      - 32
      - 64
      - 128
foundation_inverse:
  enabled: true
  run_all_properties: false
  property: Td
  target: 300.0
  target_mode: ge
  epsilon: 20.0
  targets: {}
  target_modes: {}
  epsilons: {}
  sampling_target: 100
  sampling_num_per_batch: 512
  sampling_batch_size: 128
  sampling_max_batches: 200
  proposal_views:
  - selfies
  - smiles
  sampling_temperature: null
  sampling_num_atoms: null
  target_class: polyamide
  require_validity: true
  require_two_stars: true
  require_novel: true
  require_unique: true
  max_sa: 4.5
  per_view_min_hits: 2
  per_view_quota_relax_after_batches: 12
  committee_properties:
  - Td
  property_model_mode: all
  property_model_path: ''
  rerank_strategy: d2_distance
  rerank_top_k: 100
  generate_figures: true
  ood_k: 5
  encoder_view: selfies
  use_alignment: true
  alignment_checkpoint: ''
ood_aware_inverse:
  enabled: true
  run_all_properties: false
  encoder_view: ''
  ood_views: all
  property: Td
  target: null
  target_mode: ''
  epsilon: null
  targets: {}
  target_modes: {}
  epsilons: {}
  top_k: 100
  property_weight: 0.6
  ood_weight: 0.2
  uncertainty_weight: 0.15
  constraint_weight: 0.05
  sa_weight: 0.0
  descriptor_weight: 0.25
  constraint_properties: []
  descriptor_constraints:
    aromatic_ring_count:
      target: 1.0
      mode: ge
      weight: 1.0
      min: 2
    ring_count:
      target: 1.0
      mode: ge
      weight: 1.0
      min: 3
  constraint_weights: {}
  normalization: minmax
  ood_k: 5
  compute_d2_distance_if_missing: true
  use_alignment: true
  alignment_checkpoint: ''
  generate_figures: true
chem_physics_analysis:
  enabled: true
  properties:
  - Td
  candidate_scores_template: ''
  topk_scores_template: ''
  max_reference_samples: null
  top_k: 100
  generate_figures: true
  targets: {}
  target_modes: {}
  epsilons: {}
paper_results:
  enabled: true
  output_dir: paper_package
  include_large_csv: true
  include_figures: true
smiles_encoder:
  method_dir: ../Bi_Diffusion_SMILES
  config_path: ../Bi_Diffusion_SMILES/configs/config.yaml
  results_dir: ''
  model_size: small
  step_dir: step1_backbone
  checkpoint_name: backbone_best.pt
  tokenizer_path: ''
  checkpoint_path: ''
  pooling: mean
  timestep: 1
  batch_size: 256
  device: auto
  max_samples_d1: 3000
  max_samples_d2: 3000
smiles_bpe_encoder:
  method_dir: ../Bi_Diffusion_SMILES_BPE
  config_path: ../Bi_Diffusion_SMILES_BPE/configs/config.yaml
  results_dir: ''
  model_size: small
  step_dir: step1_backbone
  checkpoint_name: backbone_best.pt
  tokenizer_path: ''
  checkpoint_path: ''
  pooling: mean
  timestep: 1
  batch_size: 256
  device: auto
  max_samples_d1: 3000
  max_samples_d2: 3000
selfies_encoder:
  method_dir: ../Bi_Diffusion_SELFIES
  config_path: ../Bi_Diffusion_SELFIES/configs/config.yaml
  results_dir: ''
  model_size: small
  step_dir: step1_backbone
  checkpoint_name: backbone_best.pt
  tokenizer_path: ''
  checkpoint_path: ''
  pooling: mean
  timestep: 1
  batch_size: 256
  device: auto
  max_samples_d1: 3000
  max_samples_d2: 3000
group_selfies_encoder:
  method_dir: ../Bi_Diffusion_Group_SELFIES
  config_path: ../Bi_Diffusion_Group_SELFIES/configs/config.yaml
  results_dir: ''
  model_size: small
  step_dir: step1_backbone
  checkpoint_name: backbone_best.pt
  tokenizer_path: ''
  checkpoint_path: ''
  pooling: mean
  timestep: 1
  batch_size: 128
  device: auto
  max_samples_d1: 3000
  max_samples_d2: 3000
graph_encoder:
  method_dir: ../Bi_Diffusion_graph
  config_path: ../Bi_Diffusion_graph/configs/config.yaml
  results_dir: ''
  model_size: small
  step_dir: step1_backbone
  checkpoint_name: graph_backbone_best.pt
  tokenizer_path: ''
  graph_config_path: ''
  checkpoint_path: ''
  pooling: mean
  timestep: 1
  batch_size: 64
  device: auto
  max_samples_d1: 3000
  max_samples_d2: 3000
